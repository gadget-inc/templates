{% assign quizSlug = block.settings.quiz_slug %}

<link rel="stylesheet" href="{{ 'section-main-page.css' | asset_url }}" media="print" onload="this.media='all'">
<link rel="stylesheet" href="{{ 'component-rte.css' | asset_url }}" media="print" onload="this.media='all'">

<!-- Find your direct script tag in the Installing section in your Gadget project's API Reference -->
<script src="{{YOUR PROJECT SCRIPT}}" defer="defer"></script>
<script>
  window.quizSlug = {{ quizSlug }};
</script>

<script src="{{ 'product-quiz.js' | asset_url }}" defer="defer"></script>
<noscript>{{ 'section-main-page.css' | asset_url | stylesheet_tag }}</noscript>
<noscript>{{ 'component-rte.css' | asset_url | stylesheet_tag }}</noscript>

{% if quizSlug.size > 0 %}
<div class="page-width page-width--narrow">
  <product-quiz class="quiz">
    <h1 class="main-page-title page-title h0 product-quiz__title">
    </h1>
    <div class="product-quiz__body">
      <span>
      </span>
    </div>
    <form class="form">
      <div class="product-quiz__questions" id="questions">
        <div class="product-quiz__question">
          <span class="product-quiz__question-answer">
          </span>
        </div>
      </div>
      <hr class="product-quiz__submit-hr" />
      <div class="product-quiz__email-container">
        <label htmlFor="email">Enter your email to complete quiz</label><br>
        <input type="email" id="product-quiz__email" name="email" required="required" style="font-size: 16px; height: 32px"><br><br>
      </div>
      <button
        name="quiz-submit"
        type="submit"
        class="product-quiz__submit button button--secondary"
      >
        Get my results
      </button>
    </form>
  </product-quiz>
</div>
{% else %}
<div>
    <h2>No quiz slug, check settings</h2>
</div>
{% endif %}

{% schema %}
{
    "name": "Quiz section",
    "target": "section",
    "settings": [
        { "type": "text", "label": "Quiz ID", "id": "quiz_slug" }
    ]
}
{% endschema %}